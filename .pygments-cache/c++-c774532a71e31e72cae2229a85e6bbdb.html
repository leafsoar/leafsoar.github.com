<div class="highlight"><pre><span class="n">JsonDictionary</span> <span class="o">*</span><span class="n">jsonDict</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JsonDictionary</span><span class="p">();</span>
<span class="n">String</span><span class="o">*</span> <span class="n">fileContent</span> <span class="o">=</span> <span class="n">String</span><span class="o">::</span><span class="n">createWithContentsOfFile</span><span class="p">(</span><span class="n">sjs_file_list</span><span class="p">);</span>
<span class="n">jsonDict</span><span class="o">-&gt;</span><span class="n">initWithDescription</span><span class="p">(</span><span class="n">fileContent</span><span class="o">-&gt;</span><span class="n">getCString</span><span class="p">());</span>

<span class="n">DictionaryHelper</span><span class="o">*</span> <span class="n">dicHelper</span> <span class="o">=</span> <span class="n">DICTOOL</span><span class="p">;</span>

<span class="n">_fileDict</span> <span class="o">=</span> <span class="n">Dictionary</span><span class="o">::</span><span class="n">create</span><span class="p">();</span>
<span class="kt">int</span> <span class="n">file_idx</span> <span class="o">=</span> <span class="n">dicHelper</span><span class="o">-&gt;</span><span class="n">getArrayCount_json</span><span class="p">(</span><span class="n">jsonDict</span><span class="p">,</span> <span class="n">file_name</span><span class="p">);</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">file_idx</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">name</span> <span class="o">=</span> <span class="n">dicHelper</span><span class="o">-&gt;</span><span class="n">getStringValueFromArray_json</span><span class="p">(</span><span class="n">jsonDict</span><span class="p">,</span> <span class="n">file_name</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">index</span> <span class="o">=</span> <span class="n">dicHelper</span><span class="o">-&gt;</span><span class="n">getStringValueFromArray_json</span><span class="p">(</span><span class="n">jsonDict</span><span class="p">,</span> <span class="n">file_index</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
    <span class="n">_fileDict</span><span class="o">-&gt;</span><span class="n">setObject</span><span class="p">(</span><span class="n">String</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="n">index</span><span class="p">),</span> <span class="n">name</span><span class="p">);</span>
<span class="p">}</span>
<span class="n">log</span><span class="p">(</span><span class="s">&quot;file count: %d&quot;</span><span class="p">,</span> <span class="n">file_idx</span><span class="p">);</span>

<span class="n">_texturePlistDict</span> <span class="o">=</span> <span class="n">Dictionary</span><span class="o">::</span><span class="n">create</span><span class="p">();</span>
<span class="kt">int</span> <span class="n">texture_idx</span> <span class="o">=</span> <span class="n">dicHelper</span><span class="o">-&gt;</span><span class="n">getArrayCount_json</span><span class="p">(</span><span class="n">jsonDict</span><span class="p">,</span> <span class="n">texture_name</span><span class="p">);</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">texture_idx</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">name</span> <span class="o">=</span> <span class="n">dicHelper</span><span class="o">-&gt;</span><span class="n">getStringValueFromArray_json</span><span class="p">(</span><span class="n">jsonDict</span><span class="p">,</span> <span class="n">texture_name</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">plist</span> <span class="o">=</span> <span class="n">dicHelper</span><span class="o">-&gt;</span><span class="n">getStringValueFromArray_json</span><span class="p">(</span><span class="n">jsonDict</span><span class="p">,</span> <span class="n">texture_plist</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
    <span class="n">_texturePlistDict</span><span class="o">-&gt;</span><span class="n">setObject</span><span class="p">(</span><span class="n">String</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="n">plist</span><span class="p">),</span> <span class="n">name</span><span class="p">);</span>
<span class="p">}</span>
<span class="n">log</span><span class="p">(</span><span class="s">&quot;texture count: %d&quot;</span><span class="p">,</span> <span class="n">texture_idx</span><span class="p">);</span>

<span class="n">_textureImageDict</span> <span class="o">=</span> <span class="n">Dictionary</span><span class="o">::</span><span class="n">create</span><span class="p">();</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">texture_idx</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">name</span> <span class="o">=</span> <span class="n">dicHelper</span><span class="o">-&gt;</span><span class="n">getStringValueFromArray_json</span><span class="p">(</span><span class="n">jsonDict</span><span class="p">,</span> <span class="n">texture_name</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">image</span> <span class="o">=</span> <span class="n">dicHelper</span><span class="o">-&gt;</span><span class="n">getStringValueFromArray_json</span><span class="p">(</span><span class="n">jsonDict</span><span class="p">,</span> <span class="n">texture_image</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
    <span class="n">_textureImageDict</span><span class="o">-&gt;</span><span class="n">setObject</span><span class="p">(</span><span class="n">String</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="n">image</span><span class="p">),</span> <span class="n">name</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">CC_SAFE_DELETE</span><span class="p">(</span><span class="n">jsonDict</span><span class="p">);</span>
</pre></div>